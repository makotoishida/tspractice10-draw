var Q=Object.defineProperty;var B=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var E=(e,t,s)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,$=(e,t)=>{for(var s in t||(t={}))tt.call(t,s)&&E(e,s,t[s]);if(B)for(var s of B(t))et.call(t,s)&&E(e,s,t[s]);return e};const st=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}};st();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var D;const _=globalThis.trustedTypes,R=_?_.createPolicy("lit-html",{createHTML:e=>e}):void 0,v=`lit$${(Math.random()+"").slice(9)}$`,V="?"+v,it=`<${V}>`,w=document,k=(e="")=>w.createComment(e),H=e=>e===null||typeof e!="object"&&typeof e!="function",J=Array.isArray,nt=e=>{var t;return J(e)||typeof((t=e)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},b=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,O=/-->/g,W=/>/g,A=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,U=/'/g,q=/"/g,K=/^(?:script|style|textarea|title)$/i,Z=e=>(t,...s)=>({_$litType$:e,strings:t,values:s}),I=Z(1),L=Z(2),M=Symbol.for("lit-noChange"),p=Symbol.for("lit-nothing"),Y=new WeakMap,ot=(e,t,s)=>{var n,i;const r=(n=s==null?void 0:s.renderBefore)!==null&&n!==void 0?n:t;let o=r._$litPart$;if(o===void 0){const u=(i=s==null?void 0:s.renderBefore)!==null&&i!==void 0?i:null;r._$litPart$=o=new C(t.insertBefore(k(),u),u,void 0,s!=null?s:{})}return o._$AI(e),o},m=w.createTreeWalker(w,129,null,!1),rt=(e,t)=>{const s=e.length-1,n=[];let i,r=t===2?"<svg>":"",o=b;for(let l=0;l<s;l++){const c=e[l];let g,h,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,h=o.exec(c),h!==null);)f=o.lastIndex,o===b?h[1]==="!--"?o=O:h[1]!==void 0?o=W:h[2]!==void 0?(K.test(h[2])&&(i=RegExp("</"+h[2],"g")),o=A):h[3]!==void 0&&(o=A):o===A?h[0]===">"?(o=i!=null?i:b,d=-1):h[1]===void 0?d=-2:(d=o.lastIndex-h[2].length,g=h[1],o=h[3]===void 0?A:h[3]==='"'?q:U):o===q||o===U?o=A:o===O||o===W?o=b:(o=A,i=void 0);const S=o===A&&e[l+1].startsWith("/>")?" ":"";r+=o===b?c+it:d>=0?(n.push(g),c.slice(0,d)+"$lit$"+c.slice(d)+v+S):c+v+(d===-2?(n.push(void 0),l):S)}const u=r+(e[s]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[R!==void 0?R.createHTML(u):u,n]};class N{constructor({strings:t,_$litType$:s},n){let i;this.parts=[];let r=0,o=0;const u=t.length-1,l=this.parts,[c,g]=rt(t,s);if(this.el=N.createElement(c,n),m.currentNode=this.el.content,s===2){const h=this.el.content,d=h.firstChild;d.remove(),h.append(...d.childNodes)}for(;(i=m.nextNode())!==null&&l.length<u;){if(i.nodeType===1){if(i.hasAttributes()){const h=[];for(const d of i.getAttributeNames())if(d.endsWith("$lit$")||d.startsWith(v)){const f=g[o++];if(h.push(d),f!==void 0){const S=i.getAttribute(f.toLowerCase()+"$lit$").split(v),T=/([.?@])?(.*)/.exec(f);l.push({type:1,index:r,name:T[2],strings:S,ctor:T[1]==="."?at:T[1]==="?"?ht:T[1]==="@"?ut:P})}else l.push({type:6,index:r})}for(const d of h)i.removeAttribute(d)}if(K.test(i.tagName)){const h=i.textContent.split(v),d=h.length-1;if(d>0){i.textContent=_?_.emptyScript:"";for(let f=0;f<d;f++)i.append(h[f],k()),m.nextNode(),l.push({type:2,index:++r});i.append(h[d],k())}}}else if(i.nodeType===8)if(i.data===V)l.push({type:2,index:r});else{let h=-1;for(;(h=i.data.indexOf(v,h+1))!==-1;)l.push({type:7,index:r}),h+=v.length-1}r++}}static createElement(t,s){const n=w.createElement("template");return n.innerHTML=t,n}}function x(e,t,s=e,n){var i,r,o,u;if(t===M)return t;let l=n!==void 0?(i=s._$Cl)===null||i===void 0?void 0:i[n]:s._$Cu;const c=H(t)?void 0:t._$litDirective$;return(l==null?void 0:l.constructor)!==c&&((r=l==null?void 0:l._$AO)===null||r===void 0||r.call(l,!1),c===void 0?l=void 0:(l=new c(e),l._$AT(e,s,n)),n!==void 0?((o=(u=s)._$Cl)!==null&&o!==void 0?o:u._$Cl=[])[n]=l:s._$Cu=l),l!==void 0&&(t=x(e,l._$AS(e,t.values),l,n)),t}class lt{constructor(t,s){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var s;const{el:{content:n},parts:i}=this._$AD,r=((s=t==null?void 0:t.creationScope)!==null&&s!==void 0?s:w).importNode(n,!0);m.currentNode=r;let o=m.nextNode(),u=0,l=0,c=i[0];for(;c!==void 0;){if(u===c.index){let g;c.type===2?g=new C(o,o.nextSibling,this,t):c.type===1?g=new c.ctor(o,c.name,c.strings,this,t):c.type===6&&(g=new dt(o,this,t)),this.v.push(g),c=i[++l]}u!==(c==null?void 0:c.index)&&(o=m.nextNode(),u++)}return r}m(t){let s=0;for(const n of this.v)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,s),s+=n.strings.length-2):n._$AI(t[s])),s++}}class C{constructor(t,s,n,i){var r;this.type=2,this._$AH=p,this._$AN=void 0,this._$AA=t,this._$AB=s,this._$AM=n,this.options=i,this._$Cg=(r=i==null?void 0:i.isConnected)===null||r===void 0||r}get _$AU(){var t,s;return(s=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&s!==void 0?s:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const s=this._$AM;return s!==void 0&&t.nodeType===11&&(t=s.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,s=this){t=x(this,t,s),H(t)?t===p||t==null||t===""?(this._$AH!==p&&this._$AR(),this._$AH=p):t!==this._$AH&&t!==M&&this.$(t):t._$litType$!==void 0?this.T(t):t.nodeType!==void 0?this.k(t):nt(t)?this.S(t):this.$(t)}M(t,s=this._$AB){return this._$AA.parentNode.insertBefore(t,s)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==p&&H(this._$AH)?this._$AA.nextSibling.data=t:this.k(w.createTextNode(t)),this._$AH=t}T(t){var s;const{values:n,_$litType$:i}=t,r=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=N.createElement(i.h,this.options)),i);if(((s=this._$AH)===null||s===void 0?void 0:s._$AD)===r)this._$AH.m(n);else{const o=new lt(r,this),u=o.p(this.options);o.m(n),this.k(u),this._$AH=o}}_$AC(t){let s=Y.get(t.strings);return s===void 0&&Y.set(t.strings,s=new N(t)),s}S(t){J(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let n,i=0;for(const r of t)i===s.length?s.push(n=new C(this.M(k()),this.M(k()),this,this.options)):n=s[i],n._$AI(r),i++;i<s.length&&(this._$AR(n&&n._$AB.nextSibling,i),s.length=i)}_$AR(t=this._$AA.nextSibling,s){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,s);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var s;this._$AM===void 0&&(this._$Cg=t,(s=this._$AP)===null||s===void 0||s.call(this,t))}}class P{constructor(t,s,n,i,r){this.type=1,this._$AH=p,this._$AN=void 0,this.element=t,this.name=s,this._$AM=i,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=p}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,s=this,n,i){const r=this.strings;let o=!1;if(r===void 0)t=x(this,t,s,0),o=!H(t)||t!==this._$AH&&t!==M,o&&(this._$AH=t);else{const u=t;let l,c;for(t=r[0],l=0;l<r.length-1;l++)c=x(this,u[n+l],s,l),c===M&&(c=this._$AH[l]),o||(o=!H(c)||c!==this._$AH[l]),c===p?t=p:t!==p&&(t+=(c!=null?c:"")+r[l+1]),this._$AH[l]=c}o&&!i&&this.C(t)}C(t){t===p?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class at extends P{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===p?void 0:t}}const ct=_?_.emptyScript:"";class ht extends P{constructor(){super(...arguments),this.type=4}C(t){t&&t!==p?this.element.setAttribute(this.name,ct):this.element.removeAttribute(this.name)}}class ut extends P{constructor(t,s,n,i,r){super(t,s,n,i,r),this.type=5}_$AI(t,s=this){var n;if((t=(n=x(this,t,s,0))!==null&&n!==void 0?n:p)===M)return;const i=this._$AH,r=t===p&&i!==p||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==p&&(i===p||r);r&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var s,n;typeof this._$AH=="function"?this._$AH.call((n=(s=this.options)===null||s===void 0?void 0:s.host)!==null&&n!==void 0?n:this.element,t):this._$AH.handleEvent(t)}}class dt{constructor(t,s,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=s,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){x(this,t)}}const X=window.litHtmlPolyfillSupport;X==null||X(N,C),((D=globalThis.litHtmlVersions)!==null&&D!==void 0?D:globalThis.litHtmlVersions=[]).push("2.2.3");const j="draw";async function pt(e){const t={shapes:e.shapes,stroke:e.stroke,fill:e.fill,drawing:e.drawing},s=JSON.stringify(t);window.localStorage.setItem(j,s)}async function $t(){var n,i,r,o,u,l,c;const e=(n=window.localStorage.getItem(j))!=null?n:"{}",t=JSON.parse(e);return{appWidth:0,appHeight:0,mouseDown:!1,startPos:{x:0,y:0},shapes:(i=t.shapes)!=null?i:[],stroke:(r=t.stroke)!=null?r:{color:"blue"},fill:(o=t.fill)!=null?o:{color:"aqua"},drawing:(c=t.drawing)!=null?c:{type:"rect",x:0,y:0,w:0,h:0,stroke:(u=t.stroke)!=null?u:{color:"blue"},fill:(l=t.fill)!=null?l:{color:"aqua"}}}}let a={appWidth:0,appHeight:0,mouseDown:!1,startPos:{x:0,y:0},shapes:[],stroke:{color:"blue"},fill:{color:"aqua"},drawing:{type:"rect",x:0,y:0,w:0,h:0,stroke:{color:"blue"},fill:{color:"aqua"}}};async function ft(e,t){e.shapes.push(t),await pt(e)}function gt(e){return L`<rect x=${e.x} y=${e.y} width=${e.w} height=${e.h} stroke=${e.stroke.color} fill=${e.fill.color} />`}function vt(e){return L`<circle cx=${e.x} cy=${e.y} r=${e.r} stroke=${e.stroke.color} fill=${e.fill.color} />`}function At(e){return L`<line x1=${e.x} y1=${e.y} x2=${e.x2} y2=${e.y2} stroke=${e.stroke.color} />`}function z(e){switch(e.type){case"rect":return gt(e);case"circle":return vt(e);case"line":return At(e);default:return""}}function yt(e){e.preventDefault();const t=e.currentTarget.dataset.type;a.drawing.type=t,y(a)}function mt(e){return I`<div class="buttons">
    ${[{name:"Rect",type:"rect"},{name:"Circle",type:"circle"},{name:"Line",type:"line"},{name:"None",type:"none"}].map(s=>I`
        <button
          type="button"
          class="btn ${s.type} ${e===s.type?"active":""}"
          data-type=${s.type}
          @click=${yt}
        >
          ${s.name}
        </button>
      `)}
  </div>`}function _t(e){a.mouseDown=!0,a.startPos={x:e.offsetX,y:e.offsetY}}function wt(e){if(!a.mouseDown)return;const t=a.startPos.x,s=a.startPos.y,n=e.offsetX,i=e.offsetY,r=Math.abs(n-t),o=Math.abs(i-s),u=Math.sqrt(r*r+o*o);switch(a.drawing.type){case"rect":{a.drawing={type:"rect",x:Math.min(t,n),y:Math.min(s,i),w:r,h:o,stroke:$({},a.stroke),fill:$({},a.fill)};break}case"circle":{a.drawing={type:"circle",x:t,y:s,r:u,stroke:$({},a.stroke),fill:$({},a.fill)};break}case"line":{a.drawing={type:"line",x:t,y:s,x2:n,y2:i,stroke:$({},a.stroke),fill:$({},a.fill)};break}}y(a)}function xt(){a.mouseDown=!1,y(a)}function bt(e){F(e.offsetX,e.offsetY)}async function F(e,t){a.mouseDown=!1;const s=a.drawing.type,n=a.startPos.x,i=a.startPos.y,r=Math.abs(e-n),o=Math.abs(t-i),u=Math.sqrt(r*r+o*o);let l={type:"none",x:n,y:i,stroke:$({},a.stroke),fill:$({},a.fill)};switch(s){case"rect":{l={type:"rect",x:Math.min(n,e),y:Math.min(i,t),w:r,h:o,stroke:$({},a.stroke),fill:$({},a.fill)};break}case"circle":{l={type:"circle",x:n,y:i,r:u,stroke:$({},a.stroke),fill:$({},a.fill)};break}case"line":{l={type:"line",x:n,y:i,x2:e,y2:t,stroke:$({},a.stroke),fill:$({},a.fill)};break}}l.type!=="none"&&await ft(a,l),y(a)}function kt(e){a.mouseDown=!0;const s=e.target.closest(".canvas").getBoundingClientRect();a.startPos={x:e.touches[0].clientX-s.left,y:e.touches[0].clientY-s.top},y(a)}function Ht(){y(a)}function G(e){const s=e.target.closest(".canvas").getBoundingClientRect();F(e.changedTouches[0].clientX-s.left,e.changedTouches[0].clientY-s.top)}function Mt(e){G(e)}function Nt(e){return I`<div
    class="canvas"
    @mousedown=${_t}
    @mousemove=${wt}
    @mouseleave=${xt}
    @mouseup=${bt}
    @touchstart=${kt}
    @touchmove=${Ht}
    @touchend=${G}
    @touchcancel=${Mt}
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      version="1.1"
      baseProfile="full"
      width=${e.appWidth}
      height=${e.appHeight}
      viewBox="0 0 ${e.appWidth} ${e.appHeight}"
    >
      ${e.shapes.map(t=>z(t))}
      ${e.mouseDown?z(e.drawing):""}
    </svg>
    ${mt(e.drawing.type)}
  </div>`}async function y(e){const t=document.querySelector("#app"),s=t.getBoundingClientRect();e.appWidth=s.width,e.appHeight=s.height,ot(Nt(e),t)}$t().then(e=>{console.log(e),a=e,y(a)});
